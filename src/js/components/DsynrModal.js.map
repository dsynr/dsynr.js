{"version":3,"file":"DsynrModal.js","sourceRoot":"","sources":["../../ts/components/DsynrModal.ts"],"names":[],"mappings":"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","sourcesContent":["///<reference path=\"../Dsynr.ts\"/>\r\nclass DsynrModal extends DsynrUIIElement {\r\n\r\n    private instanceRoot: HTMLElement;\r\n    private underlay: HTMLElement;\r\n\r\n    private onModalDestroy: Function;\r\n\r\n    private trigger: string; //\"auto\" => automatically shows as soon as instantiated\r\n    private instanceRootClass: string;\r\n\r\n    private parentSizingClass: string;\r\n    private windowSizingClass: string;\r\n    private underlayClass: string;\r\n    private overlayClass: string;\r\n    private disableUnderlay: boolean;\r\n    private useOverlay: boolean;\r\n\r\n    private adoptParent: boolean;\r\n    private autoDestroy: boolean;\r\n    private respectBounds: boolean;\r\n\r\n    private animateUnderlay: boolean;\r\n    private displayTogether: boolean;\r\n    private animateModal: boolean;\r\n    private modalAnimateInClass: string;\r\n    private modalAnimateAttentionClass: string;\r\n    private modalAnimateOutClass: string;\r\n\r\n    constructor(modalContent: HTMLElement, preferences: object = {}) {\r\n        super(modalContent, preferences);\r\n        if (!this.selfAbort) {\r\n            d.lfn('DsynrModal');\r\n            this.setDefaults();\r\n            this.setup();\r\n        }\r\n    }\r\n\r\n    setDefaults(reset: boolean = false): void {\r\n        d.lfn('setDefaults');\r\n\r\n        super.setDefaults();\r\n\r\n        let positionClass: string = 'position-absolute';\r\n        let alignmentClass: string = 'top left';\r\n\r\n        this.adoptParent = d.addProp(this, 'adoptParent', true, reset);\r\n        this.animateModal = d.addProp(this, 'animateModal', true, reset);\r\n        this.autoDestroy = d.addProp(this, 'autoDestroy', true, reset);\r\n        this.displayTogether = d.addProp(this, 'displayTogether', true, reset);\r\n        this.useOverlay = d.addProp(this, 'useOverlay', true, reset);\r\n        this.disableUnderlay = d.addProp(this, 'disableUnderlay', true, reset);\r\n\r\n        this.respectBounds = d.addProp(this, 'respectBounds', true, reset);\r\n\r\n        this.animateUnderlay = d.addProp(this, 'animateUnderlay', true, reset);\r\n\r\n        this.nameSuffix = d.addProp(this, 'nameSuffix', DsynrModal.instances.length.toString(), reset);\r\n        this.namePrefix = d.addProp(this, 'namePrefix', 'dsynrModal', reset);\r\n\r\n        this.modalAnimateInClass = d.addProp(this, 'modalAnimateInClass', d.concatStr([this.animateClass, 'flipInX']), reset);\r\n        this.modalAnimateOutClass = d.addProp(this, 'modalAnimateOutClass', d.concatStr([this.animateClass, 'flipOutY']), reset);\r\n        this.modalAnimateAttentionClass = d.addProp(this, 'modalAnimateAttentionClass', d.concatStr([this.animateClass, 'shake']), reset);\r\n\r\n        this.overlayClass = d.addProp(this, 'overlayClass', 'o50 bg-dark', reset);\r\n        this.parentSizingClass = d.addProp(this, 'sizingClass', 'wmax hmax', reset);\r\n        this.windowSizingClass = d.addProp(this, 'windowSizingClass', 'vw vh', reset);\r\n\r\n        this.underlayClass = d.addProp(this, 'underlayClass', d.concatStr([positionClass, alignmentClass, this.parentSizingClass, 'dsynrModalUnderlay']), reset);\r\n\r\n        this.instanceClass = d.addProp(this, 'instanceClass', d.concatStr([positionClass, 'o0 rounded nooverflow', 'dsynrModalContentRoot']), reset);\r\n        this.instanceRootClass = d.addProp(this, 'instanceRootClass', d.concatStr([positionClass, alignmentClass, this.parentSizingClass, 'o0 d-none', 'dsynrModal']), reset);\r\n\r\n        this.trigger = d.addProp(this, 'trigger', 'auto', reset);\r\n        this.onModalDestroy = d.addProp(this, 'onModalDestroy', () => {\r\n            this.hide(this.autoDestroy);\r\n        }, reset);\r\n    }\r\n\r\n    setup(): void {\r\n        d.lfn('setup');\r\n\r\n        let self: DsynrModal = this;\r\n        d.addClass(this.content, 'd-none');\r\n        if (this.trigger != 'auto') {\r\n            console.log('setting trigger to : ' + this.trigger);\r\n            d.addListener(this.trigger, 'click', function () {\r\n                self.show();\r\n            });\r\n            console.log('Modal Trigger READY!');\r\n        } else {\r\n            console.log('Triggering Automatically...');\r\n            this.show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @todo\r\n     * add animationEnd listener for root and then animate modal\r\n     * add optional animationEnd listener for modal\r\n     */\r\n    show(): void {\r\n        if (DsynrModal.activeInstance !== this) {\r\n            d.lfn('show via : ' + this.trigger);\r\n\r\n            d.addClass(this.content, 'o0');\r\n            d.removeClass(this.content, 'd-none');\r\n\r\n            if (this.parent === undefined) {\r\n                console.log('parent unavailable, adding modal to body');\r\n                this.parent = document.body;\r\n            }\r\n            this.instanceRoot = d.addDiv(this.setName('root', this.content.id), this.instanceRootClass, this.parent);\r\n            d.setHighestZindex(this.instanceRoot);\r\n\r\n            this.instance = d.addDiv(this.setName('modal', this.parent.id), this.instanceClass, this.instanceRoot);\r\n            this.instance.style.zIndex = (parseInt(this.instanceRoot.style.zIndex) - 1).toString();\r\n\r\n            if (this.disableUnderlay) {\r\n                // this.resizeRoot();\r\n\r\n                if (this.useOverlay) {\r\n                    this.underlayClass = d.concatStr([this.underlayClass, this.overlayClass]);\r\n                }\r\n\r\n                this.underlay = d.addDiv(this.setName('underlay', this.content.id), this.underlayClass, this.instanceRoot);\r\n                this.underlay.style.zIndex = (parseInt(this.instance.style.zIndex) - 1).toString();\r\n            } else {\r\n                d.removeClass(this.instanceRoot, this.parentSizingClass);\r\n            }\r\n\r\n            this.addListeners();\r\n            //update to detect parent (parent) resizing opposed to just window\r\n            this.instance.appendChild(this.content);\r\n            // window.addEventListener('resize', function () {\r\n            //     modals[modals.length].align();\r\n            // });\r\n\r\n\r\n            d.removeClass(this.instanceRoot, 'd-none');\r\n            d.removeClass(this.instance, 'o0');\r\n            d.removeClass(this.content, 'o0');\r\n\r\n            console.log(this.parent.id);\r\n\r\n\r\n            if (this.respectBounds) {\r\n                if (this.content.clientHeight > this.parent.clientHeight) {\r\n                    this.instance.style.height = d.getCssDimension(this.parent.clientHeight - 50);\r\n                    this.instance.style.overflowY = 'auto';\r\n                }\r\n                if (this.content.clientWidth > this.parent.clientWidth) {\r\n                    this.instance.style.width = d.getCssDimension(this.parent.clientWidth - 50);\r\n                    this.instance.style.overflowX = 'auto';\r\n                }\r\n            }\r\n\r\n            if (this.adoptParent && (this.content.clientHeight > this.parent.clientHeight || this.content.clientWidth > this.parent.clientWidth)) {\r\n                d.lfn('adoptParent');\r\n                console.log('parent cannot accommodate child, adopting body as parent!');\r\n                this.parent = document.body;\r\n                this.parent.append(this.instanceRoot);\r\n                this.resizeRoot();\r\n            }\r\n\r\n            this.align();\r\n            this.animateDisplay();\r\n            this.setActive();\r\n        }\r\n    }\r\n\r\n    attention(): void {\r\n        d.lfn('attention');\r\n        this.animateDisplay(true);\r\n    }\r\n\r\n    private animateDisplay(getAttention: boolean = false): void {\r\n        d.lfn('animateDisplay');\r\n\r\n        if (this.displayTogether) {\r\n            console.log('displayTogether...');\r\n\r\n            if (this.animate && this.animateUnderlay) {\r\n                console.log('this.animate && this.animateUnderlay....');\r\n                if (getAttention) {\r\n                    console.log('getAttention..');\r\n                    d.removeClass(this.instanceRoot, this.animateInClass);\r\n                    d.addClass(this.instanceRoot, this.animateAttentionClass);\r\n\r\n                    d.removeClass(this.instance, this.modalAnimateInClass);\r\n                    d.addClass(this.instance, this.modalAnimateAttentionClass);\r\n                } else {\r\n                    console.log('NOT getAttention..');\r\n                    d.addClass(this.instanceRoot, this.animateClass + d.conf.ani.styles.fadeIn);\r\n                    d.addClass(this.instance, this.animateClass + d.conf.ani.styles.fadeIn);\r\n\r\n\r\n                    // d.removeClass(this.instanceRoot, 'o0');\r\n                    // d.removeClass(this.instance, 'o0');\r\n                }\r\n\r\n            } else {\r\n                if (getAttention) {\r\n                    //@todo\r\n                    console.log('getting Attention.....');\r\n                } else {\r\n                    d.removeClass(this.instanceRoot, 'o0');\r\n                    d.removeClass(this.instance, 'o0');\r\n                }\r\n            }\r\n\r\n        } else {\r\n            //@todo animate one after other\r\n            console.log('animate one after other...');\r\n        }\r\n    }\r\n\r\n    hide(destroy: boolean = this.autoDestroy): void {\r\n        d.lfn('hide');\r\n        if (this.useOverlay) {\r\n            d.removeClass(this.instanceRoot, this.modalAnimateInClass);\r\n            d.addClass(this.instanceRoot, this.modalAnimateOutClass);\r\n        }\r\n        if (destroy) {\r\n            console.log('TODO ONANIMATIONEND LISTENER...');\r\n            this.destroy();\r\n        }\r\n        DsynrModal.activeInstance = false;\r\n    }\r\n\r\n    private resizeRoot() {\r\n        d.lfn('resizeRoot');\r\n        if (this.parent == document.body) {\r\n            d.removeClass(this.instanceRoot, this.parentSizingClass);\r\n            d.addClass(this.instanceRoot, this.windowSizingClass);\r\n        } else {\r\n            this.instanceRoot.style.width = d.getCssDimension(this.parent.clientWidth);\r\n            this.instanceRoot.style.height = d.getCssDimension(this.parent.clientHeight);\r\n        }\r\n    }\r\n\r\n    destroy(): void {\r\n        d.lfn('destroying modal..');\r\n        this.instanceRoot.remove();\r\n    }\r\n\r\n    setActive(): void {\r\n        d.lfn('setActive');\r\n        this.instanceRoot = this.instanceRoot;\r\n        this.content.focus();\r\n        DsynrModal.activeInstance = this;\r\n    }\r\n\r\n    addListeners() {\r\n        d.lfn('addListeners');\r\n        let ths = this;\r\n        if (this.animate) {\r\n            console.log('enabling animation');\r\n            this.instance.addEventListener(d.transitionEvent, ths.modalHidden);\r\n            // this.instance.addEventListener(d.transitionEvent, ths.modalHidden);\r\n        }\r\n        d.addListener(this.instanceRoot.id, 'keydown', function (ev: KeyboardEvent) {\r\n            if (ev.key == 'Escape') {\r\n                ths.hide(ths.autoDestroy);\r\n            }\r\n        });\r\n        d.addListener(this.instanceRoot.id, 'click', function (ev: MouseEvent) {\r\n            console.log(ev.target);\r\n            // @ts-ignore\r\n            console.log(ev.target.offsetParent);\r\n            // @ts-ignore\r\n            console.log(ev.target.classList.value);\r\n            // @ts-ignore\r\n            if (ev.target.classList.value == ths.underlayClass) {\r\n                ths.onModalDestroy();\r\n                // if (this.onModalDestroy !== undefined) {\r\n                // } else {\r\n                //     ths.hide(true);\r\n                // }\r\n            }\r\n        });\r\n    }\r\n\r\n    blanketHidden(event): void {\r\n        // Do something when the transition ends\r\n        let blanket: HTMLElement;\r\n        blanket = d.getElementById('blanket');\r\n        if (event.animationName == 'fadeOut') {\r\n            blanket.removeEventListener(d.transitionEvent, this.blanketHidden);\r\n            blanket.remove();\r\n            // this.isOverlayOn = false;\r\n        }\r\n    }\r\n\r\n    align(): void {\r\n        d.lfn('align');\r\n        if (!this.disableUnderlay) {\r\n            d.addClass(this.instanceRoot, this.parentSizingClass);\r\n        }\r\n        d.centereStage(this.instance);\r\n        if (!this.disableUnderlay) {\r\n            //@todo d.removeClass(this.instanceRoot,this.parentSizingClass);\r\n        }\r\n    }\r\n\r\n    private modalHidden(event): void {\r\n        // Do something when the transition ends\r\n        if (event.animationName == 'zoomOut') {\r\n            this.instanceRoot.classList.add('d-none');\r\n            this.instanceRoot.classList.remove('zoomOut');\r\n            this.instanceRoot.removeEventListener(d.transitionEvent, this.modalHidden);\r\n        }\r\n    }\r\n\r\n    static auto(modalClass: string = 'dsynrModal'): void {\r\n        d.lfn('auto');\r\n        d.makeArray(d.getElementsByClass(modalClass)).forEach(function (instance) {\r\n            new DsynrModal(instance);\r\n        });\r\n    }\r\n}"]}